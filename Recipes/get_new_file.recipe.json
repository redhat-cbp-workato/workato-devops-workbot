{
  "name": "Get_New_File",
  "description": "",
  "version": 87,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "clock",
    "name": "scheduled_event",
    "as": "a3fcbd0f",
    "keyword": "trigger",
    "dynamicPickListSelection": {
      "time_unit": "Hours"
    },
    "input": {
      "time_unit": "hours",
      "trigger_every": "1"
    },
    "extended_input_schema": [
      {
        "control_type": "integer",
        "default": "5",
        "enforce_template_mode": true,
        "extends_schema": true,
        "hint": "Define repeating schedule. Enter whole numbers only.\n                        This field can be set to a minimum of 5 minutes.",
        "label": "Trigger every",
        "name": "trigger_every",
        "optional": false,
        "suffix": {
          "text": "hours"
        },
        "type": "string"
      },
      {
        "control_type": "select",
        "hint": "Select the timezone to use. Leave it blank to use <b>{{authUser.account_timezone}}</b>",
        "label": "Timezone",
        "name": "timezone",
        "optional": true,
        "pick_list": "timezone_id_global_pick_list",
        "pick_list_connection_less": true,
        "type": "string"
      },
      {
        "control_type": "date_time",
        "enforce_template_mode": true,
        "extends_schema": true,
        "hint": "Set date and time to start or leave blank to start immediately. <b>Once recipe has been run or tested, value cannot be changed.</b>",
        "label": "Start after",
        "name": "start_after",
        "optional": true,
        "parse_output": "date_time_conversion",
        "since_field": true,
        "type": "date_time",
        "ignore_timezone": true,
        "render_input": "date_time_conversion"
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "workato_variable",
        "name": "declare_variable",
        "as": "f5d658ba",
        "keyword": "action",
        "input": {
          "variables": {
            "schema": "[{\"control_type\":\"text\",\"label\":\"Today_date\",\"name\":\"date\",\"type\":\"string\",\"optional\":true,\"details\":{\"real_name\":\"date\"},\"parent\":[\"variables\",\"data\"],\"hint\":\"Defaults to nil if not supplied.\",\"sticky\":true}]",
            "data": {
              "date": "=today"
            }
          }
        },
        "extended_output_schema": [
          {
            "control_type": "text",
            "hint": "Defaults to nil if not supplied.",
            "label": "Today_date",
            "name": "date",
            "optional": true,
            "sticky": true,
            "type": "string",
            "details": {
              "real_name": "date"
            }
          }
        ],
        "extended_input_schema": [
          {
            "add_field_label": "Add a variable",
            "control_type": "form-schema-builder",
            "empty_schema_title": "Add variables by giving them a name, type and default value",
            "exclude_fields": [
              "hint"
            ],
            "item_label": "variable",
            "label": "Variables",
            "mark_as_required": true,
            "name": "variables",
            "ngIf": "!input.name",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Schema",
                "extends_schema": true,
                "broadcast_change_event": true,
                "type": "string",
                "name": "schema"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Today_date",
                    "name": "date",
                    "type": "string",
                    "optional": true,
                    "details": {
                      "real_name": "date"
                    },
                    "parent": [
                      "variables",
                      "data"
                    ],
                    "hint": "Defaults to nil if not supplied.",
                    "sticky": true
                  }
                ],
                "label": "Data",
                "type": "object",
                "name": "data"
              }
            ],
            "type": "object"
          }
        ],
        "visible_config_fields": [
          "variables.data.date"
        ],
        "uuid": "dc6b462f-0337-402d-b43f-114788f144f9"
      },
      {
        "number": 2,
        "provider": "sftp",
        "name": "dir",
        "as": "778b35a3",
        "keyword": "action",
        "input": {
          "directory": "/Red Hat/"
        },
        "uuid": "ca171c3f-43f1-4b3d-b348-d6e7d543a1e8"
      },
      {
        "number": 3,
        "provider": "workato_smart_list",
        "name": "create_list",
        "as": "759d88cf",
        "keyword": "action",
        "input": {
          "list_source": "=_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"778b35a3\",\"path\":[\"entries\"]}')",
          "list_name": "QlistContries",
          "primary_index": "name"
        },
        "extended_output_schema": [
          {
            "control_type": "text",
            "label": "QlistContries",
            "name": "list_name",
            "type": "string"
          },
          {
            "label": "Columns",
            "name": "columns",
            "properties": [
              {
                "control_type": "text",
                "label": "Name",
                "list_data_type": "string",
                "type": "string",
                "name": "name"
              },
              {
                "control_type": "checkbox",
                "label": "Symlink",
                "list_data_type": "boolean",
                "type": "string",
                "name": "symlink"
              },
              {
                "control_type": "number",
                "label": "Size",
                "list_data_type": "integer",
                "type": "string",
                "name": "size"
              },
              {
                "control_type": "text",
                "label": "Owner",
                "list_data_type": "string",
                "type": "string",
                "name": "owner"
              },
              {
                "control_type": "text",
                "label": "Group",
                "list_data_type": "string",
                "type": "string",
                "name": "group"
              },
              {
                "control_type": "integer",
                "label": "Permissions",
                "list_data_type": "integer",
                "type": "string",
                "name": "permissions"
              },
              {
                "control_type": "date_time",
                "label": "Last accessed time",
                "list_data_type": "date_time",
                "type": "string",
                "name": "atime"
              },
              {
                "control_type": "date_time",
                "label": "Last modified time",
                "list_data_type": "date_time",
                "type": "string",
                "name": "mtime"
              },
              {
                "control_type": "checkbox",
                "label": "Directory",
                "list_data_type": "boolean",
                "type": "string",
                "name": "directory"
              }
            ],
            "type": "object"
          },
          {
            "control_type": "number",
            "label": "Row count",
            "name": "row_count",
            "parse_output": "integer_conversion",
            "type": "integer"
          }
        ],
        "extended_input_schema": [
          {
            "control_type": "checkbox",
            "hint": "Select <b>Yes</b> to overwrite <b>QlistContries</b> list if it already exists",
            "label": "Overwrite list?",
            "name": "force",
            "optional": true,
            "toggle_field": {
              "label": "Overwrite list?",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "hint": "Select <b>Yes</b> to overwrite <b>QlistContries</b> list if it already exists",
              "optional": true,
              "render_input": null,
              "parse_output": null,
              "type": "boolean",
              "name": "force"
            },
            "toggle_hint": "Select from option list",
            "type": "boolean"
          },
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Collections are like databases. Having index improves query performance. Select one or more fields from list source.",
            "label": "Primary index",
            "name": "primary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "Name",
                "name"
              ],
              [
                "Symlink",
                "symlink"
              ],
              [
                "Size",
                "size"
              ],
              [
                "Owner",
                "owner"
              ],
              [
                "Group",
                "group"
              ],
              [
                "Permissions",
                "permissions"
              ],
              [
                "Last accessed time",
                "atime"
              ],
              [
                "Last modified time",
                "mtime"
              ],
              [
                "Directory",
                "directory"
              ]
            ],
            "sticky": true,
            "type": "string"
          },
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Select one or more fields from list source.",
            "label": "Secondary index",
            "name": "secondary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "Name",
                "name"
              ],
              [
                "Symlink",
                "symlink"
              ],
              [
                "Size",
                "size"
              ],
              [
                "Owner",
                "owner"
              ],
              [
                "Group",
                "group"
              ],
              [
                "Permissions",
                "permissions"
              ],
              [
                "Last accessed time",
                "atime"
              ],
              [
                "Last modified time",
                "mtime"
              ],
              [
                "Directory",
                "directory"
              ]
            ],
            "type": "string"
          }
        ],
        "comment": "Create list variable for all contries in redhat folder",
        "uuid": "c4531017-f288-405c-b5a4-b44e041890ea",
        "skip": false
      },
      {
        "number": 4,
        "provider": "workato_smart_list",
        "name": "query_list",
        "as": "06fd244c",
        "keyword": "action",
        "toggleCfg": {
          "csv": true
        },
        "input": {
          "output_schema_by": "index",
          "csv": "false",
          "headers": "false",
          "col_sep": "comma",
          "sql": "Select GROUP_CONCAT(DISTINCT '''' || #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"759d88cf\",\"path\":[\"columns\",\"name\"]}')} || '''') AS all_names from #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"759d88cf\",\"path\":[\"list_name\"]}')} WHERE #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"759d88cf\",\"path\":[\"columns\",\"name\"]}')} Not IN  ('Global','.','..','Payroll_Calendars');",
          "result_schema_json": "[{\"name\":\"path\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Path\"}]"
        },
        "extended_output_schema": [
          {
            "label": "Rows",
            "name": "rows",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Path",
                "name": "path",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "Remove duplicate and unwanted folders and prepare list to pass as in parmeter",
        "uuid": "c9ed2135-4bc6-491c-808f-94a573370cb8",
        "skip": false
      },
      {
        "number": 5,
        "provider": "workato_smart_list",
        "name": "query_list",
        "as": "c8f61dc2",
        "keyword": "action",
        "toggleCfg": {
          "csv": true
        },
        "input": {
          "output_schema_by": "index",
          "csv": "false",
          "headers": "false",
          "col_sep": "comma",
          "sql": "Select * from #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"759d88cf\",\"path\":[\"list_name\"]}')} WHERE name IN  (#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"06fd244c\",\"path\":[\"rows\",{\"path_element_type\":\"current_item\"},\"path\"]}')});",
          "result_schema_json": "[{\"name\":\"path\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Path\"}]"
        },
        "extended_output_schema": [
          {
            "label": "Rows",
            "name": "rows",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Path",
                "name": "path",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "Get only relavant contirs name",
        "uuid": "cc34e56d-71f7-4818-adbd-4814be2560cc",
        "skip": false
      },
      {
        "number": 6,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "805e7507",
        "keyword": "action",
        "input": {
          "name": "countries",
          "list_item_schema_json": "[{\"name\":\"country\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Country\"}]",
          "list_items": {
            "____source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"778b35a3\",\"path\":[\"entries\"]}')}",
            "country": "/Red Hat/#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"778b35a3\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"name\"]}')}/From_Benefex/"
          }
        },
        "extended_output_schema": [
          {
            "hint": "",
            "label": "countries",
            "name": "list_items",
            "of": "object",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "Country",
                "name": "country",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Set the initial items in the list. Defaults to an empty list if not supplied.",
            "label": "Items",
            "name": "list_items",
            "of": "object",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Country",
                "name": "country",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "uuid": "b4759431-fce7-4a64-a492-201abe61bb99",
        "skip": true
      },
      {
        "number": 7,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "4a26f596",
        "keyword": "action",
        "input": {
          "name": "file_path",
          "list_item_schema_json": "[{\"name\":\"file\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"File\"},{\"name\":\"upload_date\",\"type\":\"date_time\",\"optional\":false,\"control_type\":\"date\",\"label\":\"Upload date\",\"render_input\":\"date_conversion\",\"parse_output\":\"date_conversion\"},{\"name\":\"upload_time\",\"type\":\"date_time\",\"optional\":false,\"control_type\":\"date_time\",\"label\":\"Upload time\",\"render_input\":\"date_time_conversion\",\"parse_output\":\"date_time_conversion\"}]"
        },
        "extended_output_schema": [
          {
            "hint": "",
            "label": "file_path",
            "name": "list_items",
            "of": "object",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "name": "file",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "date",
                "label": "Upload date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "name": "upload_date",
                "type": "date_time",
                "optional": false
              },
              {
                "control_type": "date_time",
                "label": "Upload time",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "name": "upload_time",
                "type": "date_time",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Set the initial items in the list. Defaults to an empty list if not supplied.",
            "label": "Items",
            "name": "list_items",
            "of": "object",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "name": "file",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "date",
                "label": "Upload date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "name": "upload_date",
                "type": "date_time",
                "optional": false
              },
              {
                "control_type": "date_time",
                "label": "Upload time",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "name": "upload_time",
                "type": "date_time",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "List valid path ofÂ  all countries",
        "uuid": "16edd597-40af-4cfc-a9a3-51642326fb32",
        "skip": false
      },
      {
        "number": 8,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "39b28404",
        "keyword": "action",
        "input": {
          "name": "error_file_path",
          "list_item_schema_json": "[{\"name\":\"file\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"File\"}]"
        },
        "extended_output_schema": [
          {
            "hint": "",
            "label": "error_file_path",
            "name": "list_items",
            "of": "object",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "name": "file",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Set the initial items in the list. Defaults to an empty list if not supplied.",
            "label": "Items",
            "name": "list_items",
            "of": "object",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "name": "file",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "List to capture error path",
        "uuid": "e017d694-ec4c-4a3a-b9e1-cb710dd0be49",
        "skip": false
      },
      {
        "number": 9,
        "as": "8ba2b240",
        "keyword": "foreach",
        "repeat_mode": "simple",
        "clear_scope": "false",
        "input": {
        },
        "block": [
          {
            "number": 10,
            "keyword": "try",
            "input": {
            },
            "block": [
              {
                "number": 11,
                "provider": "sftp",
                "name": "search_files_folders",
                "as": "a3b7fb8f",
                "keyword": "action",
                "input": {
                  "type": "File",
                  "foldername": "/Red Hat/#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8ba2b240\",\"path\":[\"path\"]}')}/From_Benefex/",
                  "search": "*.*"
                },
                "uuid": "1e4e90f5-62ae-4ce5-a2e8-4298a3edeb56",
                "skip": false
              },
              {
                "number": 12,
                "as": "c69b5770",
                "keyword": "catch",
                "input": {
                  "max_retry_count": "0",
                  "retry_interval": "2"
                },
                "block": [
                  {
                    "number": 13,
                    "provider": "workato_variable",
                    "name": "insert_to_list_batch",
                    "as": "0ba867ef",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                      "name": "error_file_path (step 7)"
                    },
                    "input": {
                      "location": "end",
                      "name": "e017d694-ec4c-4a3a-b9e1-cb710dd0be49:39b28404",
                      "list_items": {
                        "file": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"catch\",\"line\":\"c69b5770\",\"path\":[\"message\"]}')} : /Red Hat/#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8ba2b240\",\"path\":[\"path\"]}')}/From_Benefex/"
                      }
                    },
                    "extended_input_schema": [
                      {
                        "hint": "",
                        "label": "List items",
                        "name": "list_items",
                        "of": "object",
                        "optional": false,
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "File",
                            "name": "file",
                            "type": "string",
                            "optional": false
                          }
                        ],
                        "type": "array"
                      }
                    ],
                    "uuid": "367454f5-3508-4386-8f96-be5cf3862a8c",
                    "skip": false
                  }
                ],
                "uuid": "91f5447f-8481-4e3e-8dab-e01663cb950b",
                "skip": false
              }
            ],
            "uuid": "e24ad0d4-d1a7-4b7c-92ae-3847f870ecd8",
            "skip": false
          },
          {
            "number": 14,
            "keyword": "if",
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "is_not_true",
                  "lhs": "=_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"a3b7fb8f\",\"path\":[\"entries\"]}').blank?",
                  "rhs": "",
                  "uuid": "cc87cd25-6293-411b-ba57-52e3d6faa4e7"
                }
              ]
            },
            "block": [
              {
                "number": 15,
                "provider": "workato_variable",
                "name": "insert_to_list_batch",
                "as": "d3ff181c",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "file_path (step 4)"
                },
                "input": {
                  "location": "end",
                  "name": "16edd597-40af-4cfc-a9a3-51642326fb32:4a26f596",
                  "list_items": {
                    "____source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"a3b7fb8f\",\"path\":[\"entries\"]}')}",
                    "file": "/Red Hat/#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8ba2b240\",\"path\":[\"path\"]}')}/From_Benefex/#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"a3b7fb8f\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"name\"]}')}",
                    "upload_date": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"a3b7fb8f\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"mtime\"]}')}",
                    "upload_time": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"sftp\",\"line\":\"a3b7fb8f\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"mtime\"]}')}"
                  }
                },
                "extended_input_schema": [
                  {
                    "hint": "",
                    "label": "List items",
                    "name": "list_items",
                    "of": "object",
                    "optional": false,
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "File",
                        "name": "file",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "date",
                        "label": "Upload date",
                        "render_input": "date_conversion",
                        "parse_output": "date_conversion",
                        "name": "upload_date",
                        "type": "date_time",
                        "optional": false
                      },
                      {
                        "control_type": "date_time",
                        "label": "Upload time",
                        "render_input": "date_time_conversion",
                        "parse_output": "date_time_conversion",
                        "name": "upload_time",
                        "type": "date_time",
                        "optional": false
                      }
                    ],
                    "type": "array"
                  }
                ],
                "uuid": "417f7f91-5328-4c67-a2e8-c0c7678e0c3d",
                "skip": false
              }
            ],
            "uuid": "9667c2ae-4ad2-44df-aedf-fd787ae84b7f",
            "skip": false
          }
        ],
        "source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"c8f61dc2\",\"path\":[\"rows\"]}')}",
        "uuid": "edd5301b-3f4c-4b69-b277-2d8c3d42b8bf",
        "skip": false
      },
      {
        "number": 16,
        "provider": "workato_smart_list",
        "name": "insert_rows",
        "as": "cb4a18f5",
        "keyword": "action",
        "toggleCfg": {
          "create_table_if_not_exist": true
        },
        "input": {
          "list_source": "=_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"4a26f596\",\"path\":[\"list_items\"]}')",
          "create_table_if_not_exist": "true",
          "list_name": "queryfilepath",
          "primary_index": "file"
        },
        "extended_output_schema": [
          {
            "control_type": "text",
            "label": "queryfilepath",
            "name": "list_name",
            "type": "string"
          },
          {
            "label": "Columns",
            "name": "columns",
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "optional": false,
                "list_data_type": "string",
                "type": "string",
                "name": "file"
              },
              {
                "control_type": "date",
                "label": "Upload date",
                "optional": false,
                "list_data_type": "date_time",
                "type": "string",
                "name": "upload_date"
              },
              {
                "control_type": "date_time",
                "label": "Upload time",
                "optional": false,
                "list_data_type": "date_time",
                "type": "string",
                "name": "upload_time"
              }
            ],
            "type": "object"
          },
          {
            "control_type": "number",
            "label": "Row count",
            "name": "row_count",
            "parse_output": "integer_conversion",
            "type": "integer"
          }
        ],
        "extended_input_schema": [
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Collections are like databases. Having index improves query performance. Select one or more fields from list source.",
            "label": "Primary index",
            "name": "primary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "File",
                "file"
              ],
              [
                "Upload date",
                "upload_date"
              ],
              [
                "Upload time",
                "upload_time"
              ]
            ],
            "sticky": true,
            "type": "string"
          },
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Select one or more fields from list source.",
            "label": "Secondary index",
            "name": "secondary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "File",
                "file"
              ],
              [
                "Upload date",
                "upload_date"
              ],
              [
                "Upload time",
                "upload_time"
              ]
            ],
            "type": "string"
          }
        ],
        "comment": "Create queryfilepath table for files uploaded in countries folder",
        "uuid": "387f6ec3-2be4-4b6e-94f2-bf1e229a8599",
        "skip": false
      },
      {
        "number": 17,
        "provider": "workato_smart_list",
        "name": "query_list",
        "as": "878fd68a",
        "keyword": "action",
        "toggleCfg": {
          "csv": true
        },
        "input": {
          "output_schema_by": "index",
          "csv": "false",
          "headers": "false",
          "col_sep": "comma",
          "sql": "Select * from #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"cb4a18f5\",\"path\":[\"list_name\"]}')};",
          "result_schema_json": "[{\"control_type\":\"text\",\"label\":\"Path\",\"name\":\"path\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"date\",\"label\":\"Upload date\",\"render_input\":\"date_conversion\",\"parse_output\":\"date_conversion\",\"name\":\"upload_date\",\"type\":\"date_time\",\"optional\":false},{\"control_type\":\"date_time\",\"label\":\"Upload time\",\"render_input\":\"date_time_conversion\",\"parse_output\":\"date_time_conversion\",\"name\":\"upload_time\",\"type\":\"date_time\",\"optional\":false}]"
        },
        "extended_output_schema": [
          {
            "label": "Rows",
            "name": "rows",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Path",
                "name": "path",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "date",
                "label": "Upload date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "name": "upload_date",
                "type": "date_time",
                "optional": false
              },
              {
                "control_type": "date_time",
                "label": "Upload time",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "name": "upload_time",
                "type": "date_time",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "Get all files",
        "uuid": "2eb87ac2-b187-4be7-8a37-51e9f7ca9638",
        "skip": false
      },
      {
        "number": 18,
        "provider": "workato_smart_list",
        "name": "query_list",
        "as": "d8a8e0d5",
        "keyword": "action",
        "toggleCfg": {
          "csv": true
        },
        "input": {
          "output_schema_by": "index",
          "csv": "false",
          "headers": "false",
          "col_sep": "comma",
          "sql": "Select * from #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"cb4a18f5\",\"path\":[\"list_name\"]}')} where #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"cb4a18f5\",\"path\":[\"columns\",\"upload_date\"]}')}>='#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"f5d658ba\",\"path\":[\"date\"]}')}'; ",
          "result_schema_json": "[{\"control_type\":\"text\",\"label\":\"Path\",\"name\":\"path\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"date\",\"label\":\"Upload date\",\"render_input\":\"date_conversion\",\"parse_output\":\"date_conversion\",\"name\":\"upload_date\",\"type\":\"date_time\",\"optional\":false},{\"control_type\":\"date_time\",\"label\":\"Upload time\",\"render_input\":\"date_time_conversion\",\"parse_output\":\"date_time_conversion\",\"name\":\"upload_time\",\"type\":\"date_time\",\"optional\":false}]"
        },
        "extended_output_schema": [
          {
            "label": "Rows",
            "name": "rows",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Path",
                "name": "path",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "date",
                "label": "Upload date",
                "render_input": "date_conversion",
                "parse_output": "date_conversion",
                "name": "upload_date",
                "type": "date_time",
                "optional": false
              },
              {
                "control_type": "date_time",
                "label": "Upload time",
                "render_input": "date_time_conversion",
                "parse_output": "date_time_conversion",
                "name": "upload_time",
                "type": "date_time",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "Get only files updated one day back",
        "uuid": "067d9f28-dcef-464a-81a6-c624bb1354e2",
        "skip": false
      },
      {
        "number": 19,
        "provider": "workato_smart_list",
        "name": "insert_rows",
        "as": "20f3d959",
        "keyword": "action",
        "toggleCfg": {
          "create_table_if_not_exist": true
        },
        "input": {
          "list_source": "=_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"39b28404\",\"path\":[\"list_items\"]}')",
          "create_table_if_not_exist": "true",
          "list_name": "queryfilepatherror",
          "primary_index": "file"
        },
        "extended_output_schema": [
          {
            "control_type": "text",
            "label": "queryfilepatherror",
            "name": "list_name",
            "type": "string"
          },
          {
            "label": "Columns",
            "name": "columns",
            "properties": [
              {
                "control_type": "text",
                "label": "File",
                "optional": false,
                "list_data_type": "string",
                "type": "string",
                "name": "file"
              }
            ],
            "type": "object"
          },
          {
            "control_type": "number",
            "label": "Row count",
            "name": "row_count",
            "parse_output": "integer_conversion",
            "type": "integer"
          }
        ],
        "extended_input_schema": [
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Collections are like databases. Having index improves query performance. Select one or more fields from list source.",
            "label": "Primary index",
            "name": "primary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "File",
                "file"
              ]
            ],
            "sticky": true,
            "type": "string"
          },
          {
            "control_type": "multiselect",
            "delimiter": "\n",
            "hint": "Select one or more fields from list source.",
            "label": "Secondary index",
            "name": "secondary_index",
            "ngIf": "input.create_table_if_not_exist != 'false'",
            "optional": true,
            "pick_list": [
              [
                "File",
                "file"
              ]
            ],
            "type": "string"
          }
        ],
        "comment": "Create table fqueryfilepatherror or error flies",
        "uuid": "ba71ab33-cf9f-45f3-8757-f85252aca270",
        "skip": false
      },
      {
        "number": 20,
        "provider": "workato_smart_list",
        "name": "query_list",
        "as": "8cf2caf2",
        "keyword": "action",
        "toggleCfg": {
          "csv": true
        },
        "input": {
          "output_schema_by": "index",
          "csv": "false",
          "headers": "false",
          "col_sep": "comma",
          "sql": "Select * from #{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"20f3d959\",\"path\":[\"list_name\"]}')}",
          "result_schema_json": "[{\"name\":\"path\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Path\"}]"
        },
        "extended_output_schema": [
          {
            "label": "Rows",
            "name": "rows",
            "of": "object",
            "properties": [
              {
                "control_type": "text",
                "label": "Path",
                "name": "path",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "comment": "List error files",
        "uuid": "cf9236e0-f5aa-47fe-9daf-ad9bdff2f263",
        "skip": false
      },
      {
        "number": 21,
        "as": "5cbc793c",
        "keyword": "foreach",
        "repeat_mode": "simple",
        "clear_scope": "false",
        "input": {
        },
        "block": [
          {
            "number": 22,
            "provider": "workato_recipe_function",
            "name": "call_recipe",
            "as": "29e1f7ec",
            "keyword": "action",
            "dynamicPickListSelection": {
              "flow_id": "Workday | FUNC | Transfer File"
            },
            "input": {
              "flow_id": {
                "zip_name": "Recipes/workday_func_transfer_file.recipe.json",
                "name": "Workday | FUNC | Transfer File",
                "folder": "Recipes"
              },
              "parameters": {
                "file_full_path": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"5cbc793c\",\"path\":[\"path\"]}')}"
              }
            },
            "extended_input_schema": [
              {
                "label": "Parameters",
                "name": "parameters",
                "properties": [
                  {
                    "control_type": "text",
                    "label": "File full path",
                    "name": "file_full_path",
                    "type": "string",
                    "optional": false
                  }
                ],
                "type": "object"
              }
            ],
            "uuid": "710b9589-9ba3-459b-b996-40d438f9db39",
            "skip": false
          },
          {
            "number": 23,
            "keyword": "if",
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "contains",
                  "lhs": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"5cbc793c\",\"path\":[\"path\"]}')}",
                  "rhs": "Singapore",
                  "uuid": "4e7b39f2-34f8-4f10-98df-712591380e40"
                }
              ]
            },
            "block": [

            ],
            "uuid": "db3fb7b3-9163-4e1d-8b64-1c7e024f6208",
            "skip": true
          }
        ],
        "source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_smart_list\",\"line\":\"d8a8e0d5\",\"path\":[\"rows\"]}')}",
        "uuid": "3784df89-dd4f-462b-8fe5-8e284a4eb260",
        "skip": false
      }
    ],
    "uuid": "2ad5957b-f563-4266-9c5e-cd0501d03916"
  },
  "config": [
    {
      "keyword": "application",
      "provider": "sftp",
      "skip_validation": false,
      "account_id": {
        "zip_name": "Connections/workday_con_benifex_sftp_account_ssh_key.connection.json",
        "name": "Workday | CON | Benifex SFTP account SSH key",
        "folder": "Connections"
      }
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_smart_list",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_recipe_function",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "clock",
      "skip_validation": false,
      "account_id": null
    }
  ]
}