{
  "name": "CICD | FUNC | Cascade Recipe Comments for Package",
  "description": "When there is a function call, do action and other actions",
  "version": 1,
  "private": true,
  "concurrency": 1,
  "code": {
    "number": 0,
    "provider": "workato_recipe_function",
    "name": "execute",
    "as": "0622ea7d",
    "title": null,
    "description": null,
    "keyword": "trigger",
    "input": {
      "parameters_schema_json": "[{\"control_type\":\"text\",\"label\":\"Pipeline Configuration ID\",\"name\":\"pipeline_config_id\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Project Configuration ID\",\"name\":\"project_config_id\",\"type\":\"string\",\"optional\":false},{\"control_type\":\"text\",\"label\":\"Deployment comments\",\"name\":\"deployment_comments\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Package version\",\"name\":\"package_version\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Build package ID\",\"name\":\"build_package_id\",\"type\":\"string\",\"optional\":true},{\"control_type\":\"text\",\"label\":\"Project folder ID\",\"name\":\"project_folder_id\",\"type\":\"string\",\"optional\":false},{\"name\":\"target_environment\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Target environment\"},{\"name\":\"enable_deployment\",\"type\":\"boolean\",\"optional\":true,\"control_type\":\"checkbox\",\"label\":\"Enable deployment\",\"render_input\":{},\"parse_output\":{},\"toggle_hint\":\"Select from option list\",\"toggle_field\":{\"label\":\"Enable deployment\",\"control_type\":\"text\",\"toggle_hint\":\"Use custom value\",\"name\":\"enable_deployment\",\"type\":\"boolean\",\"optional\":true}}]",
      "result_schema_json": "[{\"name\":\"package_content\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Package content\"},{\"name\":\"status\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Status\"}]"
    },
    "extended_output_schema": [
      {
        "label": "Parameters",
        "name": "parameters",
        "properties": [
          {
            "control_type": "text",
            "label": "Pipeline Configuration ID",
            "name": "pipeline_config_id",
            "type": "string",
            "optional": false
          },
          {
            "control_type": "text",
            "label": "Project Configuration ID",
            "name": "project_config_id",
            "type": "string",
            "optional": false
          },
          {
            "control_type": "text",
            "label": "Deployment comments",
            "name": "deployment_comments",
            "type": "string",
            "optional": true
          },
          {
            "control_type": "text",
            "label": "Package version",
            "name": "package_version",
            "type": "string",
            "optional": true
          },
          {
            "control_type": "text",
            "label": "Build package ID",
            "name": "build_package_id",
            "type": "string",
            "optional": true
          },
          {
            "control_type": "text",
            "label": "Project folder ID",
            "name": "project_folder_id",
            "type": "string",
            "optional": false
          },
          {
            "control_type": "text",
            "label": "Target environment",
            "name": "target_environment",
            "type": "string",
            "optional": false
          },
          {
            "control_type": "checkbox",
            "label": "Enable deployment",
            "render_input": {
            },
            "parse_output": {
            },
            "toggle_hint": "Select from option list",
            "toggle_field": {
              "label": "Enable deployment",
              "control_type": "text",
              "toggle_hint": "Use custom value",
              "name": "enable_deployment",
              "type": "boolean",
              "optional": true
            },
            "name": "enable_deployment",
            "type": "boolean",
            "optional": true
          }
        ],
        "type": "object"
      }
    ],
    "block": [
      {
        "number": 1,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "f048f564",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">CICD | LT | Pipeline Configuration</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "CICD | LT | Pipeline Configuration"
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "cicd_lt_pipeline_configuration.lookup_table.json",
            "name": "CICD | LT | Pipeline Configuration",
            "folder": ""
          },
          "parameters": {
            "col1": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"pipeline_config_id\"]}')}"
          }
        },
        "extended_output_schema": [
          {
            "label": "Entries",
            "name": "entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Id",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Trigger",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "isEnabled",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Description",
                    "name": "col4",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Source Environment",
                    "name": "col5",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Stage",
                    "name": "col6",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Steps",
                    "name": "col7",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Deployment Mode",
                    "name": "col8",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Last Updated",
                    "name": "col9",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Provide one or more entry fields to search the entry",
            "label": "Search by",
            "name": "parameters",
            "properties": [
              {
                "control_type": "text",
                "label": "Id",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Trigger",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "isEnabled",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Description",
                "name": "col4",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Source Environment",
                "name": "col5",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Stage",
                "name": "col6",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Steps",
                "name": "col7",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Deployment Mode",
                "name": "col8",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Last Updated",
                "name": "col9",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ],
            "type": "object"
          }
        ],
        "comment": "Get pipeline config",
        "uuid": "644ddf60-85db-4ff3-953f-0fcb1f3a7b50"
      },
      {
        "number": 2,
        "provider": "lookup_table",
        "name": "search_entries",
        "as": "0ac9a1a7",
        "title": null,
        "description": "\n      Search\n      <span class=\"provider\">entries</span>\n      in\n      <span class=\"provider\">CICD | LT | Project Configuration</span>\n      lookup table\n    ",
        "keyword": "action",
        "dynamicPickListSelection": {
          "lookup_table_id": "CICD | LT | Project Configuration"
        },
        "input": {
          "lookup_table_id": {
            "zip_name": "cicd_lt_project_configuration.lookup_table.json",
            "name": "CICD | LT | Project Configuration",
            "folder": ""
          },
          "parameters": {
            "col1": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"project_config_id\"]}')}"
          }
        },
        "extended_output_schema": [
          {
            "label": "Entries",
            "name": "entries",
            "of": "object",
            "properties": [
              {
                "control_type": "number",
                "label": "Entry ID",
                "parse_output": "integer_conversion",
                "type": "integer",
                "name": "id"
              },
              {
                "properties": [
                  {
                    "control_type": "text",
                    "label": "Id",
                    "name": "col1",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Project Name",
                    "name": "col2",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Asset Environment",
                    "name": "col3",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Asset Id",
                    "name": "col4",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Asset Type",
                    "name": "col5",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Project Context",
                    "name": "col6",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Notification Settings",
                    "name": "col7",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Dependencies",
                    "name": "col8",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Target Folder Details",
                    "name": "col9",
                    "type": "string",
                    "sticky": true
                  },
                  {
                    "control_type": "text",
                    "label": "Last Updated",
                    "name": "col10",
                    "type": "string",
                    "sticky": true
                  }
                ],
                "label": "Entry",
                "type": "object",
                "name": "entry"
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Provide one or more entry fields to search the entry",
            "label": "Search by",
            "name": "parameters",
            "properties": [
              {
                "control_type": "text",
                "label": "Id",
                "name": "col1",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Project Name",
                "name": "col2",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Asset Environment",
                "name": "col3",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Asset Id",
                "name": "col4",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Asset Type",
                "name": "col5",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Project Context",
                "name": "col6",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Notification Settings",
                "name": "col7",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Dependencies",
                "name": "col8",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Target Folder Details",
                "name": "col9",
                "type": "string",
                "sticky": true,
                "optional": true
              },
              {
                "control_type": "text",
                "label": "Last Updated",
                "name": "col10",
                "type": "string",
                "sticky": true,
                "optional": true
              }
            ],
            "type": "object"
          }
        ],
        "comment": "Get project config",
        "uuid": "15957bb6-7bb2-4b52-8cdd-f2445441c4e7"
      },
      {
        "number": 3,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "2f930a88",
        "title": " Create recipes_list list",
        "description": "Create <span class=\"provider\">recipes_list</span> list",
        "keyword": "action",
        "input": {
          "name": "recipes_list",
          "list_item_schema_json": "[{\"control_type\":\"text\",\"label\":\"Name\",\"type\":\"string\",\"name\":\"name\"},{\"control_type\":\"text\",\"label\":\"Description\",\"type\":\"string\",\"name\":\"description\"},{\"control_type\":\"number\",\"label\":\"Version\",\"parse_output\":\"float_conversion\",\"type\":\"number\",\"name\":\"version\"},{\"control_type\":\"text\",\"label\":\"Version comment\",\"type\":\"string\",\"name\":\"version_comment\"},{\"name\":\"code\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Code\"}]"
        },
        "extended_output_schema": [
          {
            "hint": "",
            "label": "recipes_list",
            "name": "list_items",
            "of": "object",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "Name",
                "type": "string",
                "name": "name"
              },
              {
                "control_type": "text",
                "label": "Description",
                "type": "string",
                "name": "description"
              },
              {
                "control_type": "number",
                "label": "Version",
                "parse_output": "float_conversion",
                "type": "number",
                "name": "version"
              },
              {
                "control_type": "text",
                "label": "Version comment",
                "type": "string",
                "name": "version_comment"
              },
              {
                "control_type": "text",
                "label": "Code",
                "name": "code",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Set the initial items in the list. Defaults to an empty list if not supplied.",
            "label": "Items",
            "name": "list_items",
            "of": "object",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "Name",
                "type": "string",
                "name": "name"
              },
              {
                "control_type": "text",
                "label": "Description",
                "type": "string",
                "name": "description"
              },
              {
                "control_type": "number",
                "label": "Version",
                "parse_output": "float_conversion",
                "type": "number",
                "name": "version"
              },
              {
                "control_type": "text",
                "label": "Version comment",
                "type": "string",
                "name": "version_comment"
              },
              {
                "control_type": "text",
                "label": "Code",
                "name": "code",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "uuid": "1ba2869d-0e0a-46c9-a5c8-955d7a575622"
      },
      {
        "number": 4,
        "provider": "workato_variable",
        "name": "declare_list",
        "as": "bc9bcaa6",
        "title": " Create files_list list",
        "description": "Create <span class=\"provider\">files_list</span> list",
        "keyword": "action",
        "input": {
          "name": "files_list",
          "list_item_schema_json": "[{\"name\":\"file_name\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"File name\"},{\"name\":\"file_contents\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"File contents\"}]"
        },
        "extended_output_schema": [
          {
            "hint": "",
            "label": "files_list",
            "name": "list_items",
            "of": "object",
            "optional": false,
            "properties": [
              {
                "control_type": "text",
                "label": "File name",
                "name": "file_name",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "File contents",
                "name": "file_contents",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "extended_input_schema": [
          {
            "hint": "Set the initial items in the list. Defaults to an empty list if not supplied.",
            "label": "Items",
            "name": "list_items",
            "of": "object",
            "optional": true,
            "properties": [
              {
                "control_type": "text",
                "label": "File name",
                "name": "file_name",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "File contents",
                "name": "file_contents",
                "type": "string",
                "optional": false
              }
            ],
            "type": "array"
          }
        ],
        "uuid": "2a02b1f5-4222-4d9d-a5aa-d0e31b21fbed"
      },
      {
        "number": 5,
        "provider": "workato_recipe_function",
        "name": "call_recipe",
        "as": "3ab3fab3",
        "title": null,
        "description": "Call <span class=\"provider\">CICD | FUNC | Export Package</span>",
        "keyword": "action",
        "dynamicPickListSelection": {
          "flow_id": "CICD | FUNC | Export Package"
        },
        "input": {
          "flow_id": {
            "zip_name": "CICD Automation/Functions/Core Pipeline/Build/cicd_func_export_package.recipe.json",
            "name": "CICD | FUNC | Export Package",
            "folder": "CICD Automation/Functions/Core Pipeline/Build"
          },
          "parameters": {
            "source_env": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"lookup_table\",\"line\":\"0ac9a1a7\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"entry\",\"col3\"]}')}",
            "source_deployment_mode": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"lookup_table\",\"line\":\"f048f564\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"entry\",\"col8\"]}')}",
            "build_reference": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"build_package_id\"]}')}"
          }
        },
        "extended_output_schema": [
          {
            "label": "Result",
            "name": "result",
            "properties": [
              {
                "control_type": "text",
                "label": "Workato environment",
                "name": "workato_environment",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Package ID",
                "name": "package_id",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Deployment Mode",
                "name": "deployment_mode",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Package content",
                "name": "content",
                "type": "string"
              },
              {
                "control_type": "text",
                "label": "Error",
                "name": "error",
                "type": "string",
                "optional": true
              }
            ],
            "type": "object"
          }
        ],
        "extended_input_schema": [
          {
            "label": "Parameters",
            "name": "parameters",
            "properties": [
              {
                "control_type": "text",
                "label": "Source Environment",
                "name": "source_env",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Source Deployment Mode",
                "name": "source_deployment_mode",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Build Reference",
                "name": "build_reference",
                "type": "string",
                "optional": false
              }
            ],
            "type": "object"
          }
        ],
        "comment": "Export Package",
        "uuid": "cbea5fc2-27a8-40ec-ac8c-d89352e8804e"
      },
      {
        "number": 6,
        "provider": "file_connector",
        "name": "uncompress_file",
        "as": "fa5583e2",
        "title": null,
        "description": null,
        "keyword": "action",
        "dynamicPickListSelection": {
          "compression_format": "Zip"
        },
        "input": {
          "compression_format": "zip",
          "file_contents": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"3ab3fab3\",\"path\":[\"result\",\"content\"]}')}"
        },
        "uuid": "5b75557b-4a3a-41b9-befa-c128d3ca520a"
      },
      {
        "number": 7,
        "as": "8d7ad8bb",
        "keyword": "foreach",
        "repeat_mode": "simple",
        "clear_scope": "false",
        "input": {
        },
        "block": [
          {
            "number": 8,
            "keyword": "if",
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "contains",
                  "lhs": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_name\"]}')}",
                  "rhs": "recipe.json",
                  "uuid": "condition-b3c0f726-ee71-45a5-928b-0a2b0d0b3f6d"
                }
              ]
            },
            "block": [
              {
                "number": 9,
                "provider": "json_parser",
                "name": "parse_json",
                "as": "9fdf89d0",
                "title": null,
                "description": null,
                "keyword": "action",
                "input": {
                  "sample_document": "{\n  \"name\": \"Function call will create variable\",\n  \"description\": \"When there is a function call, do action and other actions\",\n  \"version\": 64,\n  \"version_comment\": \"Dev version with no updates\"}",
                  "document": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_contents\"]}')}"
                },
                "extended_output_schema": [
                  {
                    "label": "Document",
                    "name": "document",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Name",
                        "type": "string",
                        "name": "name"
                      },
                      {
                        "control_type": "text",
                        "label": "Description",
                        "type": "string",
                        "name": "description"
                      },
                      {
                        "control_type": "number",
                        "label": "Version",
                        "parse_output": "float_conversion",
                        "type": "number",
                        "name": "version"
                      },
                      {
                        "control_type": "text",
                        "label": "Version comment",
                        "type": "string",
                        "name": "version_comment"
                      }
                    ],
                    "type": "object"
                  }
                ],
                "uuid": "2422e7d7-54ca-4ef3-a7de-0e79932c2c3e"
              },
              {
                "number": 10,
                "provider": "workato_custom_code",
                "name": "invoke_custom_ruby_code",
                "as": "63806fa9",
                "title": null,
                "description": "Execute <span class=\"provider\">ruby</span> code: <span class=\"provider\">Update Version in Recipe Code</span>",
                "keyword": "action",
                "input": {
                  "code": "recipe_code = input['recipe_code']\ndeployment_comment = input['deployment_comment']\npackage_version = input['package_version']\n\noutput_recipe_code = parse_json(recipe_code) \n\nversion = output_recipe_code['version']\ncomments = \"Recipe Version: \" + version + \", \" + \"Package Version: \" + package_version + \", Deployment Comment: \" + deployment_comment\n\noutput_recipe_code['version_comment'] = comments\n\nif output_recipe_code['code']['comment'].present?\n  if output_recipe_code['code']['comment'].include?(\"Recipe Version:\")\n    comments = comments + \"| \" + output_recipe_code['code']['comment'].split('|')[1]\n  else\n    comments = comments + \"| \" + output_recipe_code['code']['comment']\n  end\nend\n\noutput_recipe_code['code']['comment'] = comments\n\n\n{ output_recipe_code: output_recipe_code.to_json }",
                  "name": "Update Version in Recipe Code",
                  "code_input": {
                    "schema": "[{\"control_type\":\"text\",\"label\":\"recipe_code\",\"name\":\"recipe_code\",\"type\":\"string\",\"optional\":true,\"details\":{\"real_name\":\"recipe_code\"}},{\"control_type\":\"text\",\"label\":\"deployment_comment\",\"name\":\"deployment_comment\",\"type\":\"string\",\"optional\":true,\"details\":{\"real_name\":\"deployment_comment\"}},{\"control_type\":\"text\",\"label\":\"package_version\",\"name\":\"package_version\",\"type\":\"string\",\"optional\":true,\"details\":{\"real_name\":\"package_version\"}}]",
                    "data": {
                      "recipe_code": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_contents\"]}')}",
                      "deployment_comment": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"deployment_comments\"]}')}",
                      "package_version": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"package_version\"]}')}"
                    }
                  },
                  "code_output_schema_json": "[{\"name\":\"output_recipe_code\",\"type\":\"string\",\"optional\":false,\"control_type\":\"text\",\"label\":\"Output recipe code\"}]"
                },
                "extended_output_schema": [
                  {
                    "label": "Output",
                    "name": "output",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Output recipe code",
                        "name": "output_recipe_code",
                        "type": "string",
                        "optional": false
                      }
                    ],
                    "type": "object"
                  }
                ],
                "extended_input_schema": [
                  {
                    "control_type": "form-schema-builder",
                    "label": "Input",
                    "name": "code_input",
                    "optional": true,
                    "override": true,
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Schema",
                        "extends_schema": true,
                        "type": "string",
                        "name": "schema"
                      },
                      {
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "recipe_code",
                            "name": "recipe_code",
                            "type": "string",
                            "optional": true,
                            "details": {
                              "real_name": "recipe_code"
                            }
                          },
                          {
                            "control_type": "text",
                            "label": "deployment_comment",
                            "name": "deployment_comment",
                            "type": "string",
                            "optional": true,
                            "details": {
                              "real_name": "deployment_comment"
                            }
                          },
                          {
                            "control_type": "text",
                            "label": "package_version",
                            "name": "package_version",
                            "type": "string",
                            "optional": true,
                            "details": {
                              "real_name": "package_version"
                            }
                          }
                        ],
                        "label": "Data",
                        "type": "object",
                        "name": "data"
                      }
                    ],
                    "sticky": true,
                    "type": "object"
                  }
                ],
                "visible_config_fields": [
                  "name",
                  "code_input",
                  "code_output_schema_json",
                  "code",
                  "code_input.data.recipe_code",
                  "code_input.schema",
                  "code_input.data.package_version",
                  "code_input.data.deployment_comment",
                  "code_input.data",
                  "code_input.data.code_from_package"
                ],
                "uuid": "473f2e74-ffdd-48d4-aadd-9ccb2156363b",
                "skip": false
              },
              {
                "number": 11,
                "provider": "workato_variable",
                "name": "insert_to_list",
                "as": "8b92f8a1",
                "title": "Add items to recipes_list list",
                "description": "Add <span class=\"provider\">items</span> to <span class=\"provider\">recipes_list</span> list",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "recipes_list (step 5)"
                },
                "input": {
                  "location": "end",
                  "name": "1ba2869d-0e0a-46c9-a5c8-955d7a575622:2f930a88",
                  "list_item": {
                    "name": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"json_parser\",\"line\":\"9fdf89d0\",\"path\":[\"document\",\"name\"]}')}",
                    "description": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"json_parser\",\"line\":\"9fdf89d0\",\"path\":[\"document\",\"description\"]}')}",
                    "version": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"json_parser\",\"line\":\"9fdf89d0\",\"path\":[\"document\",\"version\"]}')}",
                    "version_comment": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"json_parser\",\"line\":\"9fdf89d0\",\"path\":[\"document\",\"version_comment\"]}')}",
                    "code": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_custom_code\",\"line\":\"63806fa9\",\"path\":[\"output\",\"output_recipe_code\"]}')}"
                  }
                },
                "extended_input_schema": [
                  {
                    "hint": "",
                    "label": "List item",
                    "name": "list_item",
                    "optional": false,
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Name",
                        "type": "string",
                        "name": "name"
                      },
                      {
                        "control_type": "text",
                        "label": "Description",
                        "type": "string",
                        "name": "description"
                      },
                      {
                        "control_type": "number",
                        "label": "Version",
                        "parse_output": "float_conversion",
                        "type": "number",
                        "name": "version"
                      },
                      {
                        "control_type": "text",
                        "label": "Version comment",
                        "type": "string",
                        "name": "version_comment"
                      },
                      {
                        "control_type": "text",
                        "label": "Code",
                        "name": "code",
                        "type": "string",
                        "optional": false
                      }
                    ],
                    "type": "object"
                  }
                ],
                "uuid": "85a26efa-5861-4d8c-9587-fad1a22876a5"
              },
              {
                "number": 12,
                "provider": "workato_variable",
                "name": "insert_to_list",
                "as": "e19e846b",
                "title": "Add items to files_list list",
                "description": "Add <span class=\"provider\">items</span> to <span class=\"provider\">files_list</span> list",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "name": "files_list (step 6)"
                },
                "input": {
                  "location": "end",
                  "name": "2a02b1f5-4222-4d9d-a5aa-d0e31b21fbed:bc9bcaa6",
                  "list_item": {
                    "file_contents": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_custom_code\",\"line\":\"63806fa9\",\"path\":[\"output\",\"output_recipe_code\"]}')}",
                    "file_name": "=_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_directory\"]}') == \".\" ? _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_name\"]}') : _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_directory\"]}') + \"/\" + _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_name\"]}')"
                  }
                },
                "extended_input_schema": [
                  {
                    "hint": "",
                    "label": "List item",
                    "name": "list_item",
                    "optional": false,
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "File name",
                        "name": "file_name",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "File contents",
                        "name": "file_contents",
                        "type": "string",
                        "optional": false
                      }
                    ],
                    "type": "object"
                  }
                ],
                "uuid": "0f2052d7-c23a-4ffb-83cf-697797e16da2"
              },
              {
                "number": 13,
                "keyword": "else",
                "input": {
                },
                "block": [
                  {
                    "number": 14,
                    "provider": "workato_variable",
                    "name": "insert_to_list",
                    "as": "7d36bf39",
                    "title": "Add items to files_list list",
                    "description": "Add <span class=\"provider\">items</span> to <span class=\"provider\">files_list</span> list",
                    "keyword": "action",
                    "dynamicPickListSelection": {
                      "name": "files_list (step 6)"
                    },
                    "input": {
                      "location": "end",
                      "name": "2a02b1f5-4222-4d9d-a5aa-d0e31b21fbed:bc9bcaa6",
                      "list_item": {
                        "file_contents": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_contents\"]}')}",
                        "file_name": "=_dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_directory\"]}') == \".\" ? _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_name\"]}') : _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_directory\"]}') + \"/\" + _dp('{\"pill_type\":\"output\",\"provider\":\"foreach\",\"line\":\"8d7ad8bb\",\"path\":[\"file_name\"]}')"
                      }
                    },
                    "extended_input_schema": [
                      {
                        "hint": "",
                        "label": "List item",
                        "name": "list_item",
                        "optional": false,
                        "properties": [
                          {
                            "control_type": "text",
                            "label": "File name",
                            "name": "file_name",
                            "type": "string",
                            "optional": false
                          },
                          {
                            "control_type": "text",
                            "label": "File contents",
                            "name": "file_contents",
                            "type": "string",
                            "optional": false
                          }
                        ],
                        "type": "object"
                      }
                    ],
                    "uuid": "e7a6c95e-2f9f-492c-b27c-0c640f6d8da2"
                  }
                ],
                "uuid": "47eb25de-ee5c-4024-95ca-ae7564a43c55"
              }
            ],
            "uuid": "da5c730f-fcbf-4c92-9ddf-9c7477e7c4e1"
          }
        ],
        "source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"file_connector\",\"line\":\"fa5583e2\",\"path\":[\"file_list\"]}')}",
        "uuid": "fca71c7b-3838-4ed5-b71a-d9b88d3689a3"
      },
      {
        "number": 15,
        "provider": "file_connector",
        "name": "compress_file",
        "as": "c67433eb",
        "title": null,
        "description": null,
        "keyword": "action",
        "input": {
          "compression_format": "zip",
          "archive_format": "tar",
          "file_list": {
            "____source": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"bc9bcaa6\",\"path\":[\"list_items\"]}')}",
            "file_name": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"bc9bcaa6\",\"path\":[\"list_items\",{\"path_element_type\":\"current_item\"},\"file_name\"]}')}",
            "file_contents": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_variable\",\"line\":\"bc9bcaa6\",\"path\":[\"list_items\",{\"path_element_type\":\"current_item\"},\"file_contents\"]}')}"
          }
        },
        "visible_config_fields": [
          "compression_format",
          "archive_format",
          "file_list",
          "file_list.file_name",
          "file_list.file_contents",
          "unicode_names"
        ],
        "uuid": "068af692-728a-4605-a180-eb78b0196e60"
      },
      {
        "number": 16,
        "keyword": "if",
        "input": {
          "type": "compound",
          "operand": "and",
          "conditions": [
            {
              "operand": "present",
              "lhs": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"enable_deployment\"]}')}",
              "rhs": "",
              "uuid": "condition-ef15b98c-5b40-46d8-ab38-3ad7e1f5d9a9"
            }
          ]
        },
        "block": [
          {
            "number": 17,
            "keyword": "if",
            "input": {
              "type": "compound",
              "operand": "and",
              "conditions": [
                {
                  "operand": "is_true",
                  "lhs": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"enable_deployment\"]}')}",
                  "rhs": "",
                  "uuid": "condition-8c910479-07f4-487d-a9c6-94c961e12229"
                }
              ]
            },
            "block": [
              {
                "number": 18,
                "provider": "cicd_for_workato_v3_connector_865610_1729896062",
                "name": "deploy_package_async",
                "as": "f688a636",
                "title": null,
                "description": "Deploy <span class=\"provider\">package</span> to Workato <span class=\"provider\"> asynchronously</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "deployment_mode": "Recipe Lifecycle Management",
                  "src_environment": "DEV"
                },
                "toggleCfg": {
                  "deployment_mode": true,
                  "src_environment": true,
                  "target_environment": false
                },
                "input": {
                  "package_content": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"file_connector\",\"line\":\"c67433eb\",\"path\":[\"compressed_file_contents\"]}')}",
                  "src_environment": "DEV",
                  "id": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"build_package_id\"]}')}",
                  "deployment_mode": "rlcm",
                  "target_environment": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"lookup_table\",\"line\":\"f048f564\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"entry\",\"col5\"]}')}",
                  "folder_id": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"0622ea7d\",\"path\":[\"parameters\",\"project_folder_id\"]}')}"
                },
                "extended_input_schema": [
                  {
                    "control_type": "select",
                    "label": "Deployment Mode",
                    "name": "deployment_mode",
                    "optional": false,
                    "pick_list": "deployment_mode",
                    "toggle_field": {
                      "name": "deployment_mode",
                      "label": "Deployment Mode",
                      "type": "string",
                      "control_type": "text",
                      "optional": false,
                      "toggle_hint": "Use Deployment Mode"
                    },
                    "toggle_hint": "Select from list",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "hint": "Package or build ID to deploy.",
                    "label": "ID",
                    "name": "id",
                    "optional": false,
                    "type": "string"
                  },
                  {
                    "control_type": "select",
                    "hint": "Enter source environment.",
                    "label": "Source Environment",
                    "name": "src_environment",
                    "optional": false,
                    "pick_list": "environments",
                    "toggle_field": {
                      "name": "src_environment",
                      "label": "Source Environment",
                      "type": "string",
                      "control_type": "text",
                      "optional": false,
                      "hint": "Enter source environment.",
                      "toggle_hint": "Custom value"
                    },
                    "toggle_hint": "Select from list",
                    "type": "string"
                  },
                  {
                    "control_type": "select",
                    "hint": "Enter target environment.",
                    "label": "Target Environment",
                    "name": "target_environment",
                    "optional": true,
                    "pick_list": "target_environments",
                    "pick_list_params": {
                      "src_environment": "src_environment"
                    },
                    "toggle_field": {
                      "name": "target_environment",
                      "label": "Target Environment",
                      "type": "string",
                      "control_type": "text",
                      "optional": true,
                      "hint": "Enter target environment.",
                      "toggle_hint": "Custom value"
                    },
                    "toggle_hint": "Select from list",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "hint": "(Applicable for RLCM) Target environment folder ID to import package into.",
                    "label": "Folder ID",
                    "name": "folder_id",
                    "optional": true,
                    "type": "string"
                  },
                  {
                    "control_type": "select",
                    "hint": "(Applicable for Projects) Projects API currently supports only test and prod values.",
                    "label": "Environment type",
                    "name": "env_type",
                    "optional": true,
                    "pick_list": "target_environment_types",
                    "toggle_field": {
                      "name": "env_type",
                      "label": "Environment type",
                      "type": "string",
                      "control_type": "text",
                      "optional": true,
                      "hint": "(Applicable for Projects) Projects API currently supports only test and prod values.",
                      "toggle_hint": "Custom value"
                    },
                    "toggle_hint": "Select from list",
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "hint": "(Applicable for Projects) Deployment description for documentation.",
                    "label": "Description",
                    "name": "description",
                    "optional": true,
                    "type": "string"
                  },
                  {
                    "control_type": "text",
                    "hint": "(Applicable for RLCM) Optionally provide package to be imported.",
                    "label": "Package Content",
                    "name": "package_content",
                    "optional": true,
                    "type": "string"
                  }
                ],
                "visible_config_fields": [
                  "package_content",
                  "deployment_mode",
                  "id",
                  "src_environment",
                  "target_environment",
                  "folder_id"
                ],
                "uuid": "01cd436d-543c-4bc6-941e-df144bc70b87",
                "skip": false
              },
              {
                "number": 19,
                "provider": "workato_recipe_function",
                "name": "call_recipe",
                "as": "b7d3e9e3",
                "title": null,
                "description": "Call <span class=\"provider\">CICD | FUNC | Get Deployment Package Status</span>",
                "keyword": "action",
                "dynamicPickListSelection": {
                  "flow_id": "CICD | FUNC | Get Deployment Package Status"
                },
                "input": {
                  "flow_id": {
                    "zip_name": "CICD Automation/Functions/CICD for Workato/cicd_func_get_deployment_package_status.recipe.json",
                    "name": "CICD | FUNC | Get Deployment Package Status",
                    "folder": "CICD Automation/Functions/CICD for Workato"
                  },
                  "parameters": {
                    "deployment_mode": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"lookup_table\",\"line\":\"0ac9a1a7\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"entry\",\"col5\"]}')}",
                    "deployment_package_id": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"cicd_for_workato_v3_connector_865610_1729896062\",\"line\":\"f688a636\",\"path\":[\"id\"]}')}",
                    "deployment_environment": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"lookup_table\",\"line\":\"f048f564\",\"path\":[\"entries\",{\"path_element_type\":\"current_item\"},\"entry\",\"col5\"]}')}"
                  }
                },
                "extended_output_schema": [
                  {
                    "label": "Result",
                    "name": "result",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "ID",
                        "name": "id",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Status",
                        "name": "status",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Project ID",
                        "name": "project_id",
                        "type": "string",
                        "optional": false
                      }
                    ],
                    "type": "object"
                  }
                ],
                "extended_input_schema": [
                  {
                    "label": "Parameters",
                    "name": "parameters",
                    "properties": [
                      {
                        "control_type": "text",
                        "label": "Deployment Mode",
                        "name": "deployment_mode",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Deployment Package ID",
                        "name": "deployment_package_id",
                        "type": "string",
                        "optional": false
                      },
                      {
                        "control_type": "text",
                        "label": "Deployment Environment",
                        "name": "deployment_environment",
                        "type": "string",
                        "optional": false
                      }
                    ],
                    "type": "object"
                  }
                ],
                "uuid": "4e5d2358-0ad7-481e-b94d-d64ee1d491a4",
                "skip": false
              },
              {
                "number": 20,
                "keyword": "if",
                "input": {
                  "type": "compound",
                  "operand": "and",
                  "conditions": [
                    {
                      "operand": "not_equals_to",
                      "lhs": "=_dp('{\"pill_type\":\"output\",\"provider\":\"workato_recipe_function\",\"line\":\"b7d3e9e3\",\"path\":[\"result\",\"status\"]}').downcase",
                      "rhs": "success",
                      "uuid": "condition-76266107-f010-4f5d-a5e2-af7e63755d7d"
                    }
                  ]
                },
                "block": [
                  {
                    "number": 21,
                    "keyword": "stop",
                    "input": {
                      "stop_with_error": "true",
                      "stop_reason": "Failed while updating Deployment Comments into Recipes"
                    },
                    "uuid": "7154e892-775e-448e-aace-fab919e8b7ba",
                    "skip": false
                  }
                ],
                "uuid": "1fe6e7d0-7b7c-472d-bc6d-999903bbb762",
                "skip": false
              }
            ],
            "uuid": "4f0d1942-057c-4105-8313-e6ec2b6785b4"
          }
        ],
        "uuid": "3d9dc89c-f906-409d-bc34-d0b22b7e2d8d"
      },
      {
        "number": 22,
        "provider": "workato_recipe_function",
        "name": "return_result",
        "as": "52f04151",
        "title": null,
        "description": null,
        "keyword": "action",
        "input": {
          "result": {
            "status": "success",
            "package_content": "#{_dp('{\"pill_type\":\"output\",\"provider\":\"file_connector\",\"line\":\"c67433eb\",\"path\":[\"compressed_file_contents\"]}')}"
          }
        },
        "extended_output_schema": [
          {
            "label": "Result",
            "name": "result",
            "properties": [
              {
                "control_type": "text",
                "label": "Package content",
                "name": "package_content",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Status",
                "name": "status",
                "type": "string",
                "optional": false
              }
            ],
            "type": "object"
          }
        ],
        "extended_input_schema": [
          {
            "label": "Result",
            "name": "result",
            "properties": [
              {
                "control_type": "text",
                "label": "Package content",
                "name": "package_content",
                "type": "string",
                "optional": false
              },
              {
                "control_type": "text",
                "label": "Status",
                "name": "status",
                "type": "string",
                "optional": false
              }
            ],
            "type": "object"
          }
        ],
        "uuid": "01ed08f0-b3fb-4ee4-83e2-5ec1591c8f57"
      }
    ],
    "uuid": "fcd2f322-4605-4c3b-912b-34c2c8403c39",
    "unfinished": false
  },
  "config": [
    {
      "keyword": "application",
      "provider": "workato_recipe_function",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_variable",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "lookup_table",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "cicd_for_workato_v3_connector_865610_1729896062",
      "skip_validation": false,
      "account_id": {
        "zip_name": "CICD Automation/Connections/cicd_con_cicd_for_workato_v3.connection.json",
        "name": "CICD | CON | CICD for Workato V3",
        "folder": "CICD Automation/Connections",
        "custom": true
      }
    },
    {
      "keyword": "application",
      "provider": "file_connector",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "workato_custom_code",
      "skip_validation": false,
      "account_id": null
    },
    {
      "keyword": "application",
      "provider": "json_parser",
      "skip_validation": false,
      "account_id": null
    }
  ]
}